//package bg.bulsi.mvr.iscei.gateway.controller.v1;
//
//import java.io.IOException;
//import java.security.NoSuchProviderException;
//import java.security.cert.CertificateException;
//import java.security.cert.X509Certificate;
//import java.text.ParseException;
//import java.time.OffsetDateTime;
//import java.util.Enumeration;
//import java.util.List;
//import java.util.UUID;
//
//import org.springframework.beans.factory.annotation.Autowired;
//import org.springframework.http.MediaType;
//import org.springframework.web.bind.annotation.GetMapping;
//import org.springframework.web.bind.annotation.PostMapping;
//import org.springframework.web.bind.annotation.RequestMapping;
//import org.springframework.web.bind.annotation.RestController;
//
//import com.fasterxml.jackson.databind.ObjectMapper;
//
//import bg.bulsi.mvr.common.config.security.UserContext;
//import bg.bulsi.mvr.common.config.security.UserContextHolder;
//import bg.bulsi.mvr.iscei.gateway.service.CertificateProcessor;
//import bg.bulsi.mvr.iscei.gateway.service.ExternalProviderLogin;
//import bg.bulsi.mvr.iscei.gateway.service.OtpTokenService;
//import jakarta.servlet.http.HttpServletRequest;
//import jakarta.servlet.http.HttpSession;
//import lombok.extern.slf4j.Slf4j;
//
//@Slf4j
//@RestController
//@RequestMapping("/test1234")
//public class TestController {
//
//	@Autowired
//	private CertificateProcessor processor;
//	
//	@Autowired
//	private ObjectMapper objectMapper;
//	
//	@Autowired
//	private ExternalProviderLogin externalProviderLogin;
//	
//	@Autowired
//	private OtpTokenService otpTokenService;
//	
//	@PostMapping(path = "/basic",
//			produces = MediaType.APPLICATION_JSON_VALUE)
//	public String basicLogin(
////			@RequestBody BasicLoginRequestDto requestDto,
//			HttpServletRequest httpRequest
//			//@RegisteredOAuth2AuthorizedClient("iscei") OAuth2AuthorizedClient isceiClient
//			) throws IOException, ParseException, CertificateException, NoSuchProviderException{
//
//
////		X509Certificate clientCertificate = processor.extractCertificate("MIID9jCCA5ygAwIBAgIISujoQHdkGhowCgYIKoZIzj0EAwIwXjETMBEGA1UEAwwKTVZSIERFViBDQTEbMBkGA1UECwwSRGV2ZWxvcG1lbnQgU3lzdGVtMR0wGwYDVQQKDBRNaW5pc3RyeSBvZiBJbnRlcmlvcjELMAkGA1UEBhMCQkcwHhcNMjUwMjE3MTE1NDEzWhcNMzAwMjE2MTE1NDEyWjCBpzE9MDsGA1UEAww00KLQtdC+0LTQvtGA0LAg0JPQtdC90LDQtNC40LXQstCwINCT0LXQvtGA0LPQuNC10LLQsDEzMDEGA1UEBRMqUEk6QkctYzhjODJhYzAtN2QxMS00NjQxLTg3YTgtNTAyMmUwMDgzMWU2MRAwDgYDVQQqDAdUZW9kb3JhMRIwEAYDVQQEDAlHZW9yZ2lldmExCzAJBgNVBAYTAkJHMIIBojANBgkqhkiG9w0BAQEFAAOCAY8AMIIBigKCAYEAxzmMGlmo6RKYulvvrJCHl5uxDBxKdWKzaj5fPvcAuJOf8RCQeJ/iD7huJEtdH9+rZyXM0M7DfWJ9OmHs5iN3tL41Z/auiXq0j/xkSNT59vtpURja8hhilGyYfbrEsgtEgZXNAzr1SS2u5Zan5r6EfBjnSH0B+4b0M8IR6/ObADxNvD0ZjkHn+xk3H56YnU5uiXE3AxJMIBgwQygPqYM04j6OxlS9DLOK780YYW+PcvCtGW2gdiaeKR1s+9+7DSLRSYQyYR4BvRlOC2DIbjn6FSLXcR+4PJ+LzVVbRa40bnnI9uzDsqVF9HiUFMyhHUo/OU3ODjHA3MN7Ie7s2CS+K0Rzr/sGI/KYljGvLHUrFPI0yhD2Ee0L3NrNWqfu2615QCuoDgXk74n2bhDSZDUb22LN0XUpdoCiIS1D4UPughKrBTVSj36C7yx7ePLI9Iw/HYSZGmqtt6a8Cvn87DrGr9T+sPE8uoEF4lW45SfT/rSASb2TQTxDRAl77K1IPCbvAgMBAAGjga4wgaswDAYDVR0TAQH/BAIwADAfBgNVHSMEGDAWgBQy2+osv+PMfm+P3kUZQQYCRYAnJDAsBgNVHSAEJTAjMCEGBwQAi+xAAQIwFjAUBggrBgEFBQcCARYIZGVtby5jb20wHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMEMB0GA1UdDgQWBBQrd/hfHOQXy+HjbMcNELx5bfYHJDAOBgNVHQ8BAf8EBAMCBeAwCgYIKoZIzj0EAwIDSAAwRQIgSsFTWt6QkRpa+2sLNeJNJ1Rl0L8uoO0MMGs4VBi2MA0CIQC4S7U4+NiqjIH4IhmbSB2ZikpGKvjAUWTqd1NBr4/SYQ".getBytes());
////		List<String> certificateChain = List.of(
////				"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDS2pDQ0FiQ2dBd0lCQWdJSWVIekR5KzZweDdvd0NnWUlLb1pJemowRUF3SXdWREVRTUE0R0ExVUVBd3dIDQpVbTl2ZENCRFFURVVNQklHQTFVRUN3d0xWR1Z6ZENCVGVYTjBaVzB4SFRBYkJnTlZCQW9NRkUxcGJtbHpkSEo1DQpJRzltSUVsdWRHVnlhVzl5TVFzd0NRWURWUVFHRXdKQ1J6QWVGdzB5TkRBNU1USXhNek13TXpOYUZ3MHpOREE1DQpNVE14TXpJNE1UZGFNRm94RmpBVUJnTlZCQU1NRFUxaGJtRm5aVzFsYm5RZ1EwRXhGREFTQmdOVkJBc01DMVJsDQpjM1FnVTNsemRHVnRNUjB3R3dZRFZRUUtEQlJOYVc1cGMzUnllU0J2WmlCSmJuUmxjbWx2Y2pFTE1Ba0dBMVVFDQpCaE1DUWtjd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTc0ZQb3BYUVI2SmFqL2JxaUFyV21XDQpTWG4rcm1tanRpQ2ZWalIrbmpmTUxNV1FudThqNnM5RE5nR21URDRGUnAwdVJjWVhLcjdycGNyalh5NXpmcEkrDQpvMll3WkRBU0JnTlZIUk1CQWY4RUNEQUdBUUgvQWdFQk1COEdBMVVkSXdRWU1CYUFGREpkWmphS0g4Z2s1N2NYDQo3akVPd3JtN0lqYmlNQjBHQTFVZERnUVdCQlJtdWNkUWc2Y1M3T3hJLzh5N1Vjd3p0TVZWN0RBT0JnTlZIUThCDQpBZjhFQkFNQ0FZWXdDZ1lJS29aSXpqMEVBd0lEYUFBd1pRSXhBTThmNXRROVNCZ0V0T1RCTmFlTlhWZ2RBY0FaDQp3WnQvMG9HZ0FBVW5YNWdHOUsrSzJzYnlkVDdsemNyTEtHTG1sUUl3ZDJoa1BZcEJHR29mZ2RvZW9vUCtLV0ZPDQp6MnFqYU9oTVdhSy9qbHljMThvbi8wZ1dwdDFNUGdsWXdhU0dxVmhRDQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo",
////				"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlEWlRDQ0FjMmdBd0lCQWdJVWQ0SHdVNTlrM3lFa0R4MUp3a0NWWldDejZOZ3dEUVlKS29aSWh2Y05BUUVMDQpCUUF3WVRFak1DRUdDZ21TSm9tVDhpeGtBUUVNRTJNdE1ETm1OVFYwTmpRMFlYQjJiMkZvY25FeEZUQVRCZ05WDQpCQU1NREUxaGJtRm5aVzFsYm5SRFFURWpNQ0VHQTFVRUNnd2FSVXBDUTBFZ1EyOXVkR0ZwYm1WeUlGRjFhV05yDQpjM1JoY25Rd0hoY05NalF3TlRFMU1UTTBOekUxV2hjTk16UXdOREU1TURjeE5qQTVXakJlTVJNd0VRWURWUVFEDQpEQXBOVmxJZ1JFVldJRU5CTVJzd0dRWURWUVFMREJKRVpYWmxiRzl3YldWdWRDQlRlWE4wWlcweEhUQWJCZ05WDQpCQW9NRkUxcGJtbHpkSEo1SUc5bUlFbHVkR1Z5YVc5eU1Rc3dDUVlEVlFRR0V3SkNSekJaTUJNR0J5cUdTTTQ5DQpBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJNcklsRk04YWU1OFF6eHNEWktXVW0vK0haOGdPT0c0bmhhQ2RtZStLNmhVDQpyMWY2TzZuTk9JT0dZd3ZsNzEzbFJSUFEzd3JFT3F3L1lvSXJJWXN6Nzcyall6QmhNQThHQTFVZEV3RUIvd1FGDQpNQU1CQWY4d0h3WURWUjBqQkJnd0ZvQVVBRk5rd3k4ckdIN2xxNDJDWU1Pa0h2T04rbW93SFFZRFZSME9CQllFDQpGRExiNml5LzQ4eCtiNC9lUlJsQkJnSkZnQ2NrTUE0R0ExVWREd0VCL3dRRUF3SUJoakFOQmdrcWhraUc5dzBCDQpBUXNGQUFPQ0FZRUFYOUFCVGVxdmNNT3BYR3BGQzhUellDQmQ2S2ROM3RRUlh6V2hpbEJzaGI4UXVvRTRSTlhuDQpBWVRFa1kxRHE3K2dsZzNiTEViRHdEZ0QvdkVqNDJFYU0xOU12K3F1L0p0U25NcW5OZWUvTXdhaDNyL3EybWh3DQpVVTlWU0FvMjdkTFgyZElId2dLSW9IZGtSTVZESjhYYTBJWWtsb2JaWGMvZHYwYUptKzd1aUVIZHgvVXlWejhODQpjeEd2QjNTRXhydjNEWE5maUdvTFo3ZDdtQUlyVExaNC9PVzVFU3VYcE5nbllRR3FsMlZ6SDRZcDVSaHlWU2dvDQoxZis0WU5FSWJ1T25lOFkwcVZ2bE9uc083QUhTNEUwY3pUQ0FmMW1EK3ZML1ZJZ0FHcTN2bnRLMGg5MlNneDEzDQo0a1kvVVFYT1o2YnB3eCtHM0V5dCtNMS93d0w2NnUwam50bThPVWhxbTYvdDc2TzJBamVmUDdXZGIvSERXYlllDQpEb05TeEFPWVVNbWVERnR4L0ZWUlhyVUpnd3ZWSXp0a3JZd21PT1Y4VytkSXBQaXkrTXRQYlZlbFlOZTR3MzFFDQp6dlp5cWw4WlJjSStyM01kKzhnaUZjS2VvSWRIY2ZBTlh6U0d5Sjgzb1poVlZYVjk1WTBiYXlNZDEwOVROUXhQDQpsRnlBV1ZBZ285T2QNCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0NCg"
////		);
//		
//		//MVR
////		X509Certificate clientCertificate = processor.extractCertificate("MIIEdjCCBBygAwIBAgIId89RL/ZGFVQwCgYIKoZIzj0EAwIwVzETMBEGA1UEAwwKQ2l0aXplbiBDQTEUMBIGA1UECwwLVGVzdCBTeXN0ZW0xHTAbBgNVBAoMFE1pbmlzdHJ5IG9mIEludGVyaW9yMQswCQYDVQQGEwJCRzAeFw0yNTAyMjgxMzU1NDJaFw0zMDAyMjcxMzU1NDFaMIGmMTswOQYDVQQDDDLQmtCe0J3QodCi0JDQndCi0JjQnSDQn9CY0KDQmNCd0J7QkiDQmNCT0J3QkNCi0J7QkjEzMDEGA1UEBRMqUEk6QkctNWY2NGIzN2MtY2Q5My00OGM4LTk1OWYtNjk3NTVkNTFhNTU0MRMwEQYDVQQqDApLT05TVEFOVElOMRAwDgYDVQQEDAdJR05BVE9WMQswCQYDVQQGEwJCRzCCAaIwDQYJKoZIhvcNAQEBBQADggGPADCCAYoCggGBAJoxI0YlZ1SezuGos6tKo6eSQF8vIHThEjlQK7L5X3KeLqkCVr8YZ99bt2z8JuEOwC5/Bj14dUdW2MKZwsuMtVshaOPIXHG6CmhxkF3wY1MPoeWCCUGKrx3kNIoBx6AqqldSQGw10hn0EaeaBPrPgnX6w54cGZG9GnYojU23Ts7GA50ah3dlPQq5uSWFSgqiAqum7YHdWR1PjcNs7okmBNe3w6klw5KJ/Gq3BYZypIMzUkYF8NgUCkeY/VqAnxKVUbICbQP3EnJWJe0NC6y/dT5fl/r0jX/nr8BXpIryXMLV3kEp5lPhByGqG0Q3Y5qvfuInFOQWkQ7NlnbiEwBBfY873P2sPCI5olxrWvFhmJxNWvKclJJSMcQpaxDz1u1xeHwFqOTjtXWgO2Yj8aGaUkspiQEP5bm26PKrQrH0TS6/HiAuP2Yg9p27pYxuwf33wsWuJAWF4z0WfuA79cHNaKcV2GSoyhTTHALFh39SaMRuDaOOHTDHZyuoVCT3qu5ZWQIDAQABo4IBNTCCATEwDAYDVR0TAQH/BAIwADAfBgNVHSMEGDAWgBTiItbumz/mPWuU/vn+XIfECB4wtzA+BgNVHSAENzA1MDMGBwQAi+xAAQIwKDAmBggrBgEFBQcCARYaaHR0cHM6Ly93d3cuZGVtb3BvbGljeS5jb20wEwYDVR0lBAwwCgYIKwYBBQUHAwIwNAYIKwYBBQUHAQMEKDAmMBUGCCsGAQUFBwsCMAkGBwQAi+xJAQEwDQYFYDgBAQEMBEhJR0gwRgYDVR0fBD8wPTA7oDmgN4Y1aHR0cDovL2NybC5iZ2lkZW50aXR5LXRzdC5laWQvY2l0aXplbmNhL2NpdGl6ZW5jYS5jcmwwHQYDVR0OBBYEFHnAi5W4PPqvz4jYu4xGuMWHlannMA4GA1UdDwEB/wQEAwIGQDAKBggqhkjOPQQDAgNIADBFAiAx5Xi6aR/UaILuGZwxcnKwsSrO1FMOBOK63pUkAjHs7QIhAI2cMHDhPLoAKW4FluwJf8TC6N+/Fk5IRlNZNsRCmiDi".getBytes());
////		List<String> certificateChain = List.of(
////				"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDS2pDQ0FiQ2dBd0lCQWdJSWVIekR5KzZweDdvd0NnWUlLb1pJemowRUF3SXdWREVRTUE0R0ExVUVBd3dIDQpVbTl2ZENCRFFURVVNQklHQTFVRUN3d0xWR1Z6ZENCVGVYTjBaVzB4SFRBYkJnTlZCQW9NRkUxcGJtbHpkSEo1DQpJRzltSUVsdWRHVnlhVzl5TVFzd0NRWURWUVFHRXdKQ1J6QWVGdzB5TkRBNU1USXhNek13TXpOYUZ3MHpOREE1DQpNVE14TXpJNE1UZGFNRm94RmpBVUJnTlZCQU1NRFUxaGJtRm5aVzFsYm5RZ1EwRXhGREFTQmdOVkJBc01DMVJsDQpjM1FnVTNsemRHVnRNUjB3R3dZRFZRUUtEQlJOYVc1cGMzUnllU0J2WmlCSmJuUmxjbWx2Y2pFTE1Ba0dBMVVFDQpCaE1DUWtjd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTc0ZQb3BYUVI2SmFqL2JxaUFyV21XDQpTWG4rcm1tanRpQ2ZWalIrbmpmTUxNV1FudThqNnM5RE5nR21URDRGUnAwdVJjWVhLcjdycGNyalh5NXpmcEkrDQpvMll3WkRBU0JnTlZIUk1CQWY4RUNEQUdBUUgvQWdFQk1COEdBMVVkSXdRWU1CYUFGREpkWmphS0g4Z2s1N2NYDQo3akVPd3JtN0lqYmlNQjBHQTFVZERnUVdCQlJtdWNkUWc2Y1M3T3hJLzh5N1Vjd3p0TVZWN0RBT0JnTlZIUThCDQpBZjhFQkFNQ0FZWXdDZ1lJS29aSXpqMEVBd0lEYUFBd1pRSXhBTThmNXRROVNCZ0V0T1RCTmFlTlhWZ2RBY0FaDQp3WnQvMG9HZ0FBVW5YNWdHOUsrSzJzYnlkVDdsemNyTEtHTG1sUUl3ZDJoa1BZcEJHR29mZ2RvZW9vUCtLV0ZPDQp6MnFqYU9oTVdhSy9qbHljMThvbi8wZ1dwdDFNUGdsWXdhU0dxVmhRDQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo",
////				"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDYVRDQ0FlK2dBd0lCQWdJSUdScVpvc3FDeitVd0NnWUlLb1pJemowRUF3SXdWREVRTUE0R0ExVUVBd3dIDQpVbTl2ZENCRFFURVVNQklHQTFVRUN3d0xWR1Z6ZENCVGVYTjBaVzB4SFRBYkJnTlZCQW9NRkUxcGJtbHpkSEo1DQpJRzltSUVsdWRHVnlhVzl5TVFzd0NRWURWUVFHRXdKQ1J6QWVGdzB5TkRBNU1USXhNek13TXpOYUZ3MDBOREE1DQpNVFF4TXpNd016SmFNRlF4RURBT0JnTlZCQU1NQjFKdmIzUWdRMEV4RkRBU0JnTlZCQXNNQzFSbGMzUWdVM2x6DQpkR1Z0TVIwd0d3WURWUVFLREJSTmFXNXBjM1J5ZVNCdlppQkpiblJsY21sdmNqRUxNQWtHQTFVRUJoTUNRa2N3DQpkakFRQmdjcWhrak9QUUlCQmdVcmdRUUFJZ05pQUFTNW9TYmRWNWMzMEFORC9uSGdBbWhPbUFGMytYdlIxa3M5DQpwZkp0cnplWkZzNy9leHVqL1hOMitkR1M3U2liMXNuZXRZcW8rVWVnRGFFOS8rWFp5aTVqQ2QvdjF3VlRad2d5DQpmV1NaTTAwNDRueGw0OUxUWFVZZmorU0NCbDNSaXFXamdZMHdnWW93RWdZRFZSMFRBUUgvQkFnd0JnRUIvd0lCDQpBakFmQmdOVkhTTUVHREFXZ0JReVhXWTJpaC9JSk9lM0YrNHhEc0s1dXlJMjRqQWtCZ2dyQmdFRkJRY0JBd1FZDQpNQll3Q2dZSUt3WUJCUVVIQ3dJd0NBWUdCQUNPUmdFQk1CMEdBMVVkRGdRV0JCUXlYV1kyaWgvSUpPZTNGKzR4DQpEc0s1dXlJMjRqQU9CZ05WSFE4QkFmOEVCQU1DQVlZd0NnWUlLb1pJemowRUF3SURhQUF3WlFJd054OWNvbG9BDQpVdi9PK3NwVUNpdnN3SElDM09SZGRaU2lqV3hJVXpUdzZDc0tZRnVzTHpXMmIrcFJ3dS93L1YveEFqRUFybDgwDQpKNVlRZFVHWkxkSDJ1MGFxS3dxZGNXQ1g0UUovV1Y5TXVYOXJoZXI1MjRTRlFGS1dRUVZCUHVKa24vYS8NCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0",
////				"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDRERDQ0FiT2dBd0lCQWdJSVRMV3Q4aWRCd3dzd0NnWUlLb1pJemowRUF3SXdXakVXTUJRR0ExVUVBd3dODQpUV0Z1WVdkbGJXVnVkQ0JEUVRFVU1CSUdBMVVFQ3d3TFZHVnpkQ0JUZVhOMFpXMHhIVEFiQmdOVkJBb01GRTFwDQpibWx6ZEhKNUlHOW1JRWx1ZEdWeWFXOXlNUXN3Q1FZRFZRUUdFd0pDUnpBZUZ3MHlOREE1TVRJeE5ETTNOVGhhDQpGdzB6TkRBNU1UTXhNekk0TVRkYU1GY3hFekFSQmdOVkJBTU1Da05wZEdsNlpXNGdRMEV4RkRBU0JnTlZCQXNNDQpDMVJsYzNRZ1UzbHpkR1Z0TVIwd0d3WURWUVFLREJSTmFXNXBjM1J5ZVNCdlppQkpiblJsY21sdmNqRUxNQWtHDQpBMVVFQmhNQ1FrY3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBU1VHWDVYa0laVTJDUm1FRVlMDQorbXFHclNCWFNWUVlBNHJ1LzltU0c3V2Q2OUxHVHpqemxaYVpKZCtEak5uOTFkTGlUVWVYMmNlOW5zTW5ZVXZiDQpwTzZybzJZd1pEQVNCZ05WSFJNQkFmOEVDREFHQVFIL0FnRUJNQjhHQTFVZEl3UVlNQmFBRkdhNXgxQ0RweExzDQo3RWovekx0UnpETzB4VlhzTUIwR0ExVWREZ1FXQkJUaUl0YnVtei9tUFd1VS92bitYSWZFQ0I0d3R6QU9CZ05WDQpIUThCQWY4RUJBTUNBWVl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnSVV3TzN3Nk91R0piZVBxM3pnVTB2VjNDDQplemtwYzJYSWpqZWg5MGpWSEdBQ0lIa2gxMnVnMlBCdHdZTXdaK0drM0VGc0NseEUvRmk0SzhYdzhlTGxlWjJYDQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo"
////		);
//		
////		X509Certificate clientCertificate = processor.extractCertificate("MIIEtjCCBFygAwIBAgIIOkSBfAOCURMwCgYIKoZIzj0EAwIwXjETMBEGA1UEAwwKTVZSIERFViBDQTEbMBkGA1UECwwSRGV2ZWxvcG1lbnQgU3lzdGVtMR0wGwYDVQQKDBRNaW5pc3RyeSBvZiBJbnRlcmlvcjELMAkGA1UEBhMCQkcwHhcNMjUwMzI1MTIxMDE3WhcNMzAwMzI0MTIxMDE2WjCBqTE9MDsGA1UEAww00KHRgtCw0L3QuNGB0LvQsNCyINCd0LXQtNGP0LvQutC+0LIg0J3QtdC00Y/Qu9C60L7QsjEzMDEGA1UEBRMqUEk6QkctMzUyYmUxZDAtZGQ2Ni00N2E3LWJmY2QtZDIzNjQ2ZDkyNTBhMRIwEAYDVQQqDAlTdGFuaXNsYXYxEjAQBgNVBAQMCU5lZHlhbGtvdjELMAkGA1UEBhMCQkcwggGiMA0GCSqGSIb3DQEBAQUAA4IBjwAwggGKAoIBgQCrtT96bYwGTmF9JC0eLSJrWlC1pf8gcH3p2bqdTtqazNFUsO38+u05DBbL3OLc9uBZK3k/6/dXf4ulxizf2aNYrln6yPz+XtYWrNIuWb8Zrgf5OioPAPiSISqGWjucrR+5Mel+8Pvz0LsKl2/m94Jp5BzcEzw9kHYyCeFmzP39r7eZBewQbUSCyRil/xKQXYlM7ETpc0rV1GNnLmQs0+Frzq2j1NElKC8ltOo7r+ZAGZSgqZjBXmSGNZnI1mAITyAvZOIvuiY3tBGxw+vP8pkzhktVhiPTE6o4UABWMvwWDxXGN1i3bAgRoLZs2PynucyDQgXhZA9QKk7EsvddjnnSnZBYL9iy0eOQQu40hEPngjgnfVltFfU/5OPyPvrEyM/hhVSl0qEtcmeKjZeERYZ/578sAKymIxOVeVw1awpALlB852o5t/O+deS5kiBgJNVpkvJiboz19TMSdQvuIbgL9l+kxQstCNONfV5Vng+nJ5pn7fTC9F/SMWhCny1utmsCAwEAAaOCAWswggFnMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUMtvqLL/jzH5vj95FGUEGAkWAJyQwLAYDVR0gBCUwIzAhBgcEAIvsQAECMBYwFAYIKwYBBQUHAgEWCGRlbW8uY29tMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDBDCBuQYDVR0fBIGxMIGuMIGroIGooIGlhoGiaHR0cDovL2VpZGQwMWVqYmNhMDEubXZyZWlkLmxvY2FsOjgwL2VqYmNhL3B1YmxpY3dlYi93ZWJkaXN0L2NlcnRkaXN0P2NtZD1jcmwmaXNzdWVyPUNOJTNETVZSK0RFVitDQSUyQ09VJTNERGV2ZWxvcG1lbnQrU3lzdGVtJTJDTyUzRE1pbmlzdHJ5K29mK0ludGVyaW9yJTJDQyUzREJHMB0GA1UdDgQWBBRqGpg/8D7byQe6f/LPyxBQqUHiPDAOBgNVHQ8BAf8EBAMCBeAwCgYIKoZIzj0EAwIDSAAwRQIhAO3QkbVcgYlW+UYZS34e3RGot+eSCZ+38IGlDkVtjDdqAiB8daUe4q1HaNrcZFVyfXKDIEzMyPSiNd4KQeBg+7l49A==".getBytes());
////		List<String> certificateChain = List.of(
////				"MIIDZTCCAc2gAwIBAgIUd4HwU59k3yEkDx1JwkCVZWCz6NgwDQYJKoZIhvcNAQELBQAwYTEjMCEGCgmSJomT8ixkAQEME2MtMDNmNTV0NjQ0YXB2b2FocnExFTATBgNVBAMMDE1hbmFnZW1lbnRDQTEjMCEGA1UECgwaRUpCQ0EgQ29udGFpbmVyIFF1aWNrc3RhcnQwHhcNMjQwNTE1MTM0NzE1WhcNMzQwNDE5MDcxNjA5WjBeMRMwEQYDVQQDDApNVlIgREVWIENBMRswGQYDVQQLDBJEZXZlbG9wbWVudCBTeXN0ZW0xHTAbBgNVBAoMFE1pbmlzdHJ5IG9mIEludGVyaW9yMQswCQYDVQQGEwJCRzBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABMrIlFM8ae58QzxsDZKWUm/+HZ8gOOG4nhaCdme+K6hUr1f6O6nNOIOGYwvl713lRRPQ3wrEOqw/YoIrIYsz772jYzBhMA8GA1UdEwEB/wQFMAMBAf8wHwYDVR0jBBgwFoAUAFNkwy8rGH7lq42CYMOkHvON+mowHQYDVR0OBBYEFDLb6iy/48x+b4/eRRlBBgJFgCckMA4GA1UdDwEB/wQEAwIBhjANBgkqhkiG9w0BAQsFAAOCAYEAX9ABTeqvcMOpXGpFC8TzYCBd6KdN3tQRXzWhilBshb8QuoE4RNXnAYTEkY1Dq7+glg3bLEbDwDgD/vEj42EaM19Mv+qu/JtSnMqnNee/Mwah3r/q2mhwUU9VSAo27dLX2dIHwgKIoHdkRMVDJ8Xa0IYklobZXc/dv0aJm+7uiEHdx/UyVz8NcxGvB3SExrv3DXNfiGoLZ7d7mAIrTLZ4/OW5ESuXpNgnYQGql2VzH4Yp5RhyVSgo1f+4YNEIbuOne8Y0qVvlOnsO7AHS4E0czTCAf1mD+vL/VIgAGq3vntK0h92Sgx134kY/UQXOZ6bpwx+G3Eyt+M1/wwL66u0jntm8OUhqm6/t76O2AjefP7Wdb/HDWbYeDoNSxAOYUMmeDFtx/FVRXrUJgwvVIztkrYwmOOV8W+dIpPiy+MtPbVelYNe4w31EzvZyql8ZRcI+r3Md+8giFcKeoIdHcfANXzSGyJ83oZhVVXV95Y0bayMd109TNQxPlFyAWVAgo9Od",
////				"MIIEszCCAxugAwIBAgIUROHHHnCXLC5w4sUoFiMsoJE2bzAwDQYJKoZIhvcNAQELBQAwYTEjMCEGCgmSJomT8ixkAQEME2MtMDNmNTV0NjQ0YXB2b2FocnExFTATBgNVBAMMDE1hbmFnZW1lbnRDQTEjMCEGA1UECgwaRUpCQ0EgQ29udGFpbmVyIFF1aWNrc3RhcnQwHhcNMjQwNDE5MDcxNjEwWhcNMzQwNDE5MDcxNjA5WjBhMSMwIQYKCZImiZPyLGQBAQwTYy0wM2Y1NXQ2NDRhcHZvYWhycTEVMBMGA1UEAwwMTWFuYWdlbWVudENBMSMwIQYDVQQKDBpFSkJDQSBDb250YWluZXIgUXVpY2tzdGFydDCCAaIwDQYJKoZIhvcNAQEBBQADggGPADCCAYoCggGBAJDp7nKGj7euJhCPPLUWoChWiyoZaxTUMr+ybP9e8kCiJoG7v25aQKizwoTqel4S7vKjgUTRx+J8z2T08p+IOdmnl5jAbs1N5eCP5P8NSoh+yt0sLNQjwhwTMznZ4HiCJfYXhMg0Pj4cl/MMicYxHCrjB//2MkXIwqaVRTGU6rifErAE79DenKv50k2FrwnWYG++Qqxx0JOocfLeEmoQPS7n14crtGXXkrrPxR47ccQTc0rbaNJzZTPvzQopS7ukqI+019uJeis9ZNseA++w/+DlWqgzzfDCQgPQy+L+kkWanRNmnizgU27hJtfAumQlD2AwtexHWHgOztzHRSeL5QgDGbL3YfXmQ+qnC8EK7kP8opfMKEbSM7W/Y37ejR7+CaHKC0Ze0c3eHVzHckBzvf7Qtlxt1NoRFEupX447RB5KGv2JvbVwZEdYY9wmE0g6wqyUFoW4rll90G7j6Ka0lY1mbWBYlYtmKchwd1sbKhM5tGGkDco1m0NHrjmqlN46nwIDAQABo2MwYTAPBgNVHRMBAf8EBTADAQH/MB8GA1UdIwQYMBaAFABTZMMvKxh+5auNgmDDpB7zjfpqMB0GA1UdDgQWBBQAU2TDLysYfuWrjYJgw6Qe8436ajAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggGBAEnjtKdVy3VheiNxGjVviO6TyCiPS5S0jzv8j9IbQgctCUizLR76zglwTtLv5azChj7T34IE/DWks/M0hiX/I1DWX1Y2vCb6zrM6ZoZGNBemPZ+dq9BnpPIfONVbvS/Roi5x6546aNFFA4niA4bGgx8+sR+ZKckCLy+OmJVVd0Om0IeJidX7PH2yC1mbwTjnVeFevj96xh9q+fdMbck9CP+kebkicmwwdE0IOLi6rq5TqoBSbK62Q7UW7NYl24Iyy5xkJj12SYCmxuc/bWBRY9I3kweAyheHKgCYscnQmTHZmol1IfFu7i6/GNHkzXvTQKTdXWiyHbZHZiKy4L86hLLn64ustevmEI0Qec367OMul7Zj4UY97YnylDH8fTLO4zmCe1PMxfI/fFRzd2+uTXhMYTfuMuHKCEdYc5Z9XdJxqEG2ToItTkXSMVSifwPj1JC5hG8yXShadoDS6HAeoj4O/os0fk2QG2O71hWvEr07I2/H7Cl3qCIoA9o3SxYOaw=="
////		);
//
//		
//		X509Certificate clientCertificate = processor.extractCertificate("MIIEtjCCBFygAwIBAgIIPw6QW23wAtswCgYIKoZIzj0EAwIwXjETMBEGA1UEAwwKTVZSIERFViBDQTEbMBkGA1UECwwSRGV2ZWxvcG1lbnQgU3lzdGVtMR0wGwYDVQQKDBRNaW5pc3RyeSBvZiBJbnRlcmlvcjELMAkGA1UEBhMCQkcwHhcNMjUwNTEyMDkyODIzWhcNMzAwNTExMDkyODIyWjCBqTE9MDsGA1UEAww00KHRgtCw0L3QuNGB0LvQsNCyINCd0LXQtNGP0LvQutC+0LIg0J3QtdC00Y/Qu9C60L7QsjEzMDEGA1UEBRMqUEk6QkctMzUyYmUxZDAtZGQ2Ni00N2E3LWJmY2QtZDIzNjQ2ZDkyNTBhMRIwEAYDVQQqDAlTdGFuaXNsYXYxEjAQBgNVBAQMCU5lZHlhbGtvdjELMAkGA1UEBhMCQkcwggGiMA0GCSqGSIb3DQEBAQUAA4IBjwAwggGKAoIBgQCrtT96bYwGTmF9JC0eLSJrWlC1pf8gcH3p2bqdTtqazNFUsO38+u05DBbL3OLc9uBZK3k/6/dXf4ulxizf2aNYrln6yPz+XtYWrNIuWb8Zrgf5OioPAPiSISqGWjucrR+5Mel+8Pvz0LsKl2/m94Jp5BzcEzw9kHYyCeFmzP39r7eZBewQbUSCyRil/xKQXYlM7ETpc0rV1GNnLmQs0+Frzq2j1NElKC8ltOo7r+ZAGZSgqZjBXmSGNZnI1mAITyAvZOIvuiY3tBGxw+vP8pkzhktVhiPTE6o4UABWMvwWDxXGN1i3bAgRoLZs2PynucyDQgXhZA9QKk7EsvddjnnSnZBYL9iy0eOQQu40hEPngjgnfVltFfU/5OPyPvrEyM/hhVSl0qEtcmeKjZeERYZ/578sAKymIxOVeVw1awpALlB852o5t/O+deS5kiBgJNVpkvJiboz19TMSdQvuIbgL9l+kxQstCNONfV5Vng+nJ5pn7fTC9F/SMWhCny1utmsCAwEAAaOCAWswggFnMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUMtvqLL/jzH5vj95FGUEGAkWAJyQwLAYDVR0gBCUwIzAhBgcEAIvsQAECMBYwFAYIKwYBBQUHAgEWCGRlbW8uY29tMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDBDCBuQYDVR0fBIGxMIGuMIGroIGooIGlhoGiaHR0cDovL2VpZGQwMWVqYmNhMDEubXZyZWlkLmxvY2FsOjgwL2VqYmNhL3B1YmxpY3dlYi93ZWJkaXN0L2NlcnRkaXN0P2NtZD1jcmwmaXNzdWVyPUNOJTNETVZSK0RFVitDQSUyQ09VJTNERGV2ZWxvcG1lbnQrU3lzdGVtJTJDTyUzRE1pbmlzdHJ5K29mK0ludGVyaW9yJTJDQyUzREJHMB0GA1UdDgQWBBRqGpg/8D7byQe6f/LPyxBQqUHiPDAOBgNVHQ8BAf8EBAMCBeAwCgYIKoZIzj0EAwIDSAAwRQIgNt3UL9/KcmMuv2uSydpzzSDY8dr6pK6oRSAhkhvl2PoCIQDCcbPGLOPWXscfh9NjskkkENePNZotiSyQtTJJw65ocQ==".getBytes());
////		X509Certificate clientCertificate = processor.extractCertificate("MIIEqDCCBE2gAwIBAgIIBa8afjLFKb8wCgYIKoZIzj0EAwIwXjETMBEGA1UEAwwKTVZSIERFViBDQTEbMBkGA1UECwwSRGV2ZWxvcG1lbnQgU3lzdGVtMR0wGwYDVQQKDBRNaW5pc3RyeSBvZiBJbnRlcmlvcjELMAkGA1UEBhMCQkcwHhcNMjUwNTA4MTAzMjQ5WhcNMzAwNTA3MTAzMjQ4WjCBmjEzMDEGA1UEAwwq0K7Qu9C40Y8g0KDRg9C80LXQvdC+0LLQsCDQkdC+0LfRg9C60L7QstCwMTMwMQYDVQQFEypQSTpCRy02OGFhZGU2OS0wM2IzLTQzMDUtYTU3YS0zNjU0M2RiMzkyNzYxDjAMBgNVBCoMBUp1bGlhMREwDwYDVQQEDAhCb3p1a292YTELMAkGA1UEBhMCQkcwggGiMA0GCSqGSIb3DQEBAQUAA4IBjwAwggGKAoIBgQCfg6gDR0Ja4w1OXFQF8OvJ/sH+x00NvZ0mD2ejjkGLOTLJ7iRGFZEdN5m5zWlXsxTdUHLDe21QDnFyGeQN+TBlqzj/k8XtnqSMBU0p7zSuECySZoBIHs8xIfKlfrU65A+njwTIYy9mmDDCGMmMQBma82WFeqG3jJLoradr/hYJyr+AfNvnCztP6uaOxk/oIZOYzwAWt87Nf/0eRojzipvtJxsKrlucWhRpVGcIoPdwTQHR70WPnpOOwVrPLafiu4HpucMgi0nm8u/02GYbQ4XMpRFvgiBiWX0yzt3w3fmLK05gNlu3DNjv8NX/BW4lokc2B+f9h1Z8lcYw2NWpKN/Az6N9v4CDy68+AhRL8EnEagDDwZIRLLtBztk0mB6lhGKg1t6632h6xwE0/mxexUvdnwYrrUsEZKjmS1P0EwLc62USp8lBiv0MX4VW/olkcXhm5E8vRbwuHnhpQuPCpJk85Of8YXI9ksXzLU6pqHNLXeIe76JJLtPuXEEBqj9wakcCAwEAAaOCAWswggFnMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUMtvqLL/jzH5vj95FGUEGAkWAJyQwLAYDVR0gBCUwIzAhBgcEAIvsQAECMBYwFAYIKwYBBQUHAgEWCGRlbW8uY29tMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDBDCBuQYDVR0fBIGxMIGuMIGroIGooIGlhoGiaHR0cDovL2VpZGQwMWVqYmNhMDEubXZyZWlkLmxvY2FsOjgwL2VqYmNhL3B1YmxpY3dlYi93ZWJkaXN0L2NlcnRkaXN0P2NtZD1jcmwmaXNzdWVyPUNOJTNETVZSK0RFVitDQSUyQ09VJTNERGV2ZWxvcG1lbnQrU3lzdGVtJTJDTyUzRE1pbmlzdHJ5K29mK0ludGVyaW9yJTJDQyUzREJHMB0GA1UdDgQWBBQsxK9dRe0IBbEfDcB66tCRF4KVKDAOBgNVHQ8BAf8EBAMCBeAwCgYIKoZIzj0EAwIDSQAwRgIhAKQJoTA9MUtkgbd9HuKjdN4isInXds+WPYmHLx6Z/uSLAiEAsqS1UGttl1AWdcWQlR7P+BH63kSmdStK79gG/EdYDa4=".getBytes());
//		List<String> certificateChain = List.of(
//				"MIIDZTCCAc2gAwIBAgIUd4HwU59k3yEkDx1JwkCVZWCz6NgwDQYJKoZIhvcNAQELBQAwYTEjMCEGCgmSJomT8ixkAQEME2MtMDNmNTV0NjQ0YXB2b2FocnExFTATBgNVBAMMDE1hbmFnZW1lbnRDQTEjMCEGA1UECgwaRUpCQ0EgQ29udGFpbmVyIFF1aWNrc3RhcnQwHhcNMjQwNTE1MTM0NzE1WhcNMzQwNDE5MDcxNjA5WjBeMRMwEQYDVQQDDApNVlIgREVWIENBMRswGQYDVQQLDBJEZXZlbG9wbWVudCBTeXN0ZW0xHTAbBgNVBAoMFE1pbmlzdHJ5IG9mIEludGVyaW9yMQswCQYDVQQGEwJCRzBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABMrIlFM8ae58QzxsDZKWUm/+HZ8gOOG4nhaCdme+K6hUr1f6O6nNOIOGYwvl713lRRPQ3wrEOqw/YoIrIYsz772jYzBhMA8GA1UdEwEB/wQFMAMBAf8wHwYDVR0jBBgwFoAUAFNkwy8rGH7lq42CYMOkHvON+mowHQYDVR0OBBYEFDLb6iy/48x+b4/eRRlBBgJFgCckMA4GA1UdDwEB/wQEAwIBhjANBgkqhkiG9w0BAQsFAAOCAYEAX9ABTeqvcMOpXGpFC8TzYCBd6KdN3tQRXzWhilBshb8QuoE4RNXnAYTEkY1Dq7+glg3bLEbDwDgD/vEj42EaM19Mv+qu/JtSnMqnNee/Mwah3r/q2mhwUU9VSAo27dLX2dIHwgKIoHdkRMVDJ8Xa0IYklobZXc/dv0aJm+7uiEHdx/UyVz8NcxGvB3SExrv3DXNfiGoLZ7d7mAIrTLZ4/OW5ESuXpNgnYQGql2VzH4Yp5RhyVSgo1f+4YNEIbuOne8Y0qVvlOnsO7AHS4E0czTCAf1mD+vL/VIgAGq3vntK0h92Sgx134kY/UQXOZ6bpwx+G3Eyt+M1/wwL66u0jntm8OUhqm6/t76O2AjefP7Wdb/HDWbYeDoNSxAOYUMmeDFtx/FVRXrUJgwvVIztkrYwmOOV8W+dIpPiy+MtPbVelYNe4w31EzvZyql8ZRcI+r3Md+8giFcKeoIdHcfANXzSGyJ83oZhVVXV95Y0bayMd109TNQxPlFyAWVAgo9Od",
//				"MIIEszCCAxugAwIBAgIUROHHHnCXLC5w4sUoFiMsoJE2bzAwDQYJKoZIhvcNAQELBQAwYTEjMCEGCgmSJomT8ixkAQEME2MtMDNmNTV0NjQ0YXB2b2FocnExFTATBgNVBAMMDE1hbmFnZW1lbnRDQTEjMCEGA1UECgwaRUpCQ0EgQ29udGFpbmVyIFF1aWNrc3RhcnQwHhcNMjQwNDE5MDcxNjEwWhcNMzQwNDE5MDcxNjA5WjBhMSMwIQYKCZImiZPyLGQBAQwTYy0wM2Y1NXQ2NDRhcHZvYWhycTEVMBMGA1UEAwwMTWFuYWdlbWVudENBMSMwIQYDVQQKDBpFSkJDQSBDb250YWluZXIgUXVpY2tzdGFydDCCAaIwDQYJKoZIhvcNAQEBBQADggGPADCCAYoCggGBAJDp7nKGj7euJhCPPLUWoChWiyoZaxTUMr+ybP9e8kCiJoG7v25aQKizwoTqel4S7vKjgUTRx+J8z2T08p+IOdmnl5jAbs1N5eCP5P8NSoh+yt0sLNQjwhwTMznZ4HiCJfYXhMg0Pj4cl/MMicYxHCrjB//2MkXIwqaVRTGU6rifErAE79DenKv50k2FrwnWYG++Qqxx0JOocfLeEmoQPS7n14crtGXXkrrPxR47ccQTc0rbaNJzZTPvzQopS7ukqI+019uJeis9ZNseA++w/+DlWqgzzfDCQgPQy+L+kkWanRNmnizgU27hJtfAumQlD2AwtexHWHgOztzHRSeL5QgDGbL3YfXmQ+qnC8EK7kP8opfMKEbSM7W/Y37ejR7+CaHKC0Ze0c3eHVzHckBzvf7Qtlxt1NoRFEupX447RB5KGv2JvbVwZEdYY9wmE0g6wqyUFoW4rll90G7j6Ka0lY1mbWBYlYtmKchwd1sbKhM5tGGkDco1m0NHrjmqlN46nwIDAQABo2MwYTAPBgNVHRMBAf8EBTADAQH/MB8GA1UdIwQYMBaAFABTZMMvKxh+5auNgmDDpB7zjfpqMB0GA1UdDgQWBBQAU2TDLysYfuWrjYJgw6Qe8436ajAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggGBAEnjtKdVy3VheiNxGjVviO6TyCiPS5S0jzv8j9IbQgctCUizLR76zglwTtLv5azChj7T34IE/DWks/M0hiX/I1DWX1Y2vCb6zrM6ZoZGNBemPZ+dq9BnpPIfONVbvS/Roi5x6546aNFFA4niA4bGgx8+sR+ZKckCLy+OmJVVd0Om0IeJidX7PH2yC1mbwTjnVeFevj96xh9q+fdMbck9CP+kebkicmwwdE0IOLi6rq5TqoBSbK62Q7UW7NYl24Iyy5xkJj12SYCmxuc/bWBRY9I3kweAyheHKgCYscnQmTHZmol1IfFu7i6/GNHkzXvTQKTdXWiyHbZHZiKy4L86hLLn64ustevmEI0Qec367OMul7Zj4UY97YnylDH8fTLO4zmCe1PMxfI/fFRzd2+uTXhMYTfuMuHKCEdYc5Z9XdJxqEG2ToItTkXSMVSifwPj1JC5hG8yXShadoDS6HAeoj4O/os0fk2QG2O71hWvEr07I2/H7Cl3qCIoA9o3SxYOaw=="
//		);
//		
//		this.processor.validateCertificateChain(UUID.randomUUID(), clientCertificate, certificateChain);
//		
//		//DSSUtils.loadCertificateFromBase64EncodedString();
//		
//		return OffsetDateTime.now().toString();
//	}
//	
//	
//	@GetMapping(path = "/session",
//			produces = MediaType.APPLICATION_JSON_VALUE)
//	public String session(
////			@RequestBody BasicLoginRequestDto requestDto,
//			HttpServletRequest httpRequest
//			//@RegisteredOAuth2AuthorizedClient("iscei") OAuth2AuthorizedClient isceiClient
//			) throws IOException, ParseException, CertificateException, NoSuchProviderException{
//
//		UserContext userContext = UserContextHolder.getFromServletContext();
//		
//		HttpSession httpSession = httpRequest.getSession();
//		Enumeration<String> attrNames = httpSession.getAttributeNames();
//		while(attrNames.hasMoreElements()) {
//			String attrName =  attrNames.nextElement();
//			
//			System.out.println("=======> attrValue = " +  attrName + "; attrValue = " + httpSession.getAttribute(attrName));
//		}
//		
//		System.out.println("=======> SPRING_SECURITY_CONTEXT = " +  objectMapper.writeValueAsString(httpSession.getAttribute("SPRING_SECURITY_CONTEXT")));
//
//		
//		return httpRequest.getSession().toString();
//	}
//}
